#!/usr/bin/env bash

set -euo pipefail

case "${1:-}" in
  current)
    pactl get-default-sink
    ;;
  description)
    sink="${2:-$(pactl get-default-sink)}"
    pactl -f json list sinks | jq -r --arg sink "$sink" '
      .[] | select(.name == $sink) | .description
    ' | sed 's/ Analog Stereo//'
    ;;
  *)
    echo "Usage: lumen-audio-sink <current|description> [sink]" >&2
    exit 1
    ;;
esac
